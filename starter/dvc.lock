schema: '2.0'
stages:
  clean_data:
    cmd: python starter/clean_data.py
    deps:
    - path: data/census.csv
      md5: 145de00f6e6053d3f7044628f9a5b5ff
      size: 3974474
    - path: starter/clean_data.py
      md5: 5c3249d06a71d988f66d8c26eee153e2
      size: 1219
    outs:
    - path: data/cleaned_census.csv
      md5: 864f768c94aa0cdf64cc58281cac4835
      size: 3515983
  train_model:
    cmd: python starter/train_model.py
    deps:
    - path: data/train_cleaned_census.csv
      md5: 779f5f83ac43afed7caaa9f25627a114
      size: 2811824
    - path: starter/ml/data.py
      md5: 4214b94f699195016277ff9eeda0ae00
      size: 5823
    - path: starter/ml/model.py
      md5: 5232d4e1393188fb22e86c1fb5f92faf
      size: 4014
    - path: starter/train_model.py
      md5: 15ce84f48491ab926dce3f3ec0c7729c
      size: 2554
    params:
      params.yaml:
        train_model.param_grid:
          n_estimators:
          - 2
          - 5
          max_features:
          - auto
          - sqrt
          max_depth:
          - 4
          - 5
          - 10
          criterion:
          - gini
          - entropy
        train_model.random_state: 42
    outs:
    - path: model/encoder.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/lb.pkl
      md5: 68d67643c2f11e180eaa335146ade2ea
      size: 403
    - path: model/model.pkl
      md5: 074d07d5d56753724bbb86eae13e2e3b
      size: 164351
    - path: model/score.json
      md5: 0f3bfb9152d5540cf6a8ceb07a56e50f
      size: 127
  segregate_data:
    cmd: python starter/segregate.py
    deps:
    - path: data/cleaned_census.csv
      md5: 864f768c94aa0cdf64cc58281cac4835
      size: 3515983
    - path: starter/segregate.py
      md5: 1ad8db25a16b3c75ad1baa334111b8a4
      size: 2018
    params:
      params.yaml:
        segregate_data.random_state: 42
        segregate_data.test_size: 0.2
    outs:
    - path: data/test_cleaned_census.csv
      md5: 7785dbfd0af63fe8d42bc9c30e673eff
      size: 704314
    - path: data/train_cleaned_census.csv
      md5: 779f5f83ac43afed7caaa9f25627a114
      size: 2811824
  inference:
    cmd: python starter/inference.py
    deps:
    - path: data/test_cleaned_census.csv
      md5: 7785dbfd0af63fe8d42bc9c30e673eff
      size: 704314
    - path: model/encoder.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/lb.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/model.pkl
      md5: c0803e41195ee1548140147d3dbb31f9
      size: 7252685
    - path: starter/inference.py
      md5: d73904a4060ed30ff97c8d5316a19544
      size: 1438
    - path: starter/ml/data.py
      md5: 953d9f319ea81adc14bdf6194e3561db
      size: 4457
    - path: starter/ml/model.py
      md5: ff3320807d84a247ab4b5bb5e871cf1c
      size: 2743
  evaluate:
    cmd: python starter/evaluate.py
    deps:
    - path: data/test_cleaned_census.csv
      md5: 7785dbfd0af63fe8d42bc9c30e673eff
      size: 704314
    - path: model/encoder.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/lb.pkl
      md5: 68d67643c2f11e180eaa335146ade2ea
      size: 403
    - path: model/model.pkl
      md5: 074d07d5d56753724bbb86eae13e2e3b
      size: 164351
    - path: starter/evaluate.py
      md5: 7e43b3cdc3afba0083f96cb1b22c863e
      size: 2004
    - path: starter/ml/data.py
      md5: 4214b94f699195016277ff9eeda0ae00
      size: 5823
    - path: starter/ml/model.py
      md5: 5232d4e1393188fb22e86c1fb5f92faf
      size: 4014
