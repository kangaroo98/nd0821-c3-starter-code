schema: '2.0'
stages:
  clean_data:
    cmd: python starter/clean_data.py
    deps:
    - path: data/census.csv
      md5: 145de00f6e6053d3f7044628f9a5b5ff
      size: 3974474
    - path: starter/clean_data.py
      md5: 7423261f8163bb739341bebf43acadab
      size: 900
    outs:
    - path: data/cleaned_census.csv
      md5: 864f768c94aa0cdf64cc58281cac4835
      size: 3515983
  train_model:
    cmd: python starter/train_model.py
    deps:
    - path: data/train_cleaned_census.csv
      md5: 779f5f83ac43afed7caaa9f25627a114
      size: 2811824
    - path: starter/ml/data.py
      md5: 953d9f319ea81adc14bdf6194e3561db
      size: 4457
    - path: starter/ml/model.py
      md5: 6049d427e20328f2fe0f524bbea4ba8a
      size: 2620
    - path: starter/train_model.py
      md5: 25a04bef8ff8a08c7205f9f6711da242
      size: 2275
    params:
      params.yaml:
        train_model.criterion:
        - gini
        - entropy
        train_model.max_depth:
        - 4
        - 5
        - 10
        train_model.max_features:
        - auto
        - sqrt
        train_model.n_estimators:
        - 20
        - 50
    outs:
    - path: model/encoder.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/lb.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/model.pkl
      md5: 6721a31860329ff3b1c78612f3b9283b
      size: 1807302
    - path: model/score.json
      md5: feecb381fa2590c32d2d7866c0f486cd
      size: 124
  segregate_data:
    cmd: python starter/segregate.py
    deps:
    - path: data/cleaned_census.csv
      md5: 864f768c94aa0cdf64cc58281cac4835
      size: 3515983
    - path: starter/segregate.py
      md5: 16fdbc6e50db57b438a6e18fd8a3dcb7
      size: 1386
    outs:
    - path: data/test_cleaned_census.csv
      md5: 7785dbfd0af63fe8d42bc9c30e673eff
      size: 704314
    - path: data/train_cleaned_census.csv
      md5: 779f5f83ac43afed7caaa9f25627a114
      size: 2811824
  inference:
    cmd: python starter/inference.py
    deps:
    - path: data/test_cleaned_census.csv
      md5: 7785dbfd0af63fe8d42bc9c30e673eff
      size: 704314
    - path: model/encoder.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/lb.pkl
      md5: a553f204feb7d25cff7013915fd7ce8a
      size: 3898
    - path: model/model.pkl
      md5: 6721a31860329ff3b1c78612f3b9283b
      size: 1807302
    - path: starter/inference.py
      md5: 181b4a514eb3e831e5cb5b72a12097f5
      size: 1246
    - path: starter/ml/data.py
      md5: 953d9f319ea81adc14bdf6194e3561db
      size: 4457
    - path: starter/ml/model.py
      md5: 6049d427e20328f2fe0f524bbea4ba8a
      size: 2620
